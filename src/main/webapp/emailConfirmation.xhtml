<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:p="http://primefaces.org/ui"
    template="/WEB-INF/template/layout_public.xhtml">
 
	<!-- set request parameter values from URL to backing bean -->
	<f:metadata>
		<f:viewParam name="key" value="#{emailConfirmation.key}" required="true" requiredMessage="Valid key is required" />
		<f:viewAction action="#{emailConfirmation.onLoad}"/>
	</f:metadata>
		    
    <ui:define name="title">
		#{msg['email.confirmation']}
	</ui:define>
	
 	<ui:define name="content">
		
		<p:messages id="messages" showDetail="true" showSummary="false">
			<p:autoUpdate/>
		</p:messages>
		
		<div jsf:rendered="#{emailConfirmation.success}" class="w3-container w3-round">
			<h4>#{msg['email.confirmed']}</h4>
			<a href="login.xhtml">#{msg['click.here.to.login']}</a>	
		</div>
		
		<div jsf:rendered="#{not emailConfirmation.success}" class="w3-red w3-container w3-round">
			<h4>#{msg['unable.to.create.account']}</h4>
			<ul jsfc="ui:repeat" var="message" value="#{emailConfirmation.errors}" style="list-style-position: inside; padding-left: 0;">
				<li>#{message}</li>
			</ul>
		</div>
 	
 	</ui:define>   
</ui:composition>